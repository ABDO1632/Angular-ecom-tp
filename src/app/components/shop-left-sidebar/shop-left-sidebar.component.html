<app-header-section sectionTitle="Shop Left Side bar" sectionSlogan="Home . Pages . Shop Left Side bar">
</app-header-section>

<section class="shop-list">
  <div class="container">
    <div class="header">
      <div class="left">
        <h2 class="blue-text">Ecommerce Accesories & Fashion item</h2>
        <p class="grey-text">About </p>
      </div>

      <div class="right">
        <form [formGroup]="limitForm" (change)="sumbetLimitPage()">
          <label>Per Page:</label>
          <input formControlName="numberPage" type="number" class="mx-2">
          <input formControlName="keywordPage" width="329px" type="text" placeholder="Search products"
            class="w-50 mx-2">
        </form>
        <form  >
          <label>Sort By:</label>
          <select [ngModelOptions]="{ standalone: true }"
                 [(ngModel)]="matchWord" (change)="sortProducts($event)" class="mx-2" name="" id="">
            <option selected="true" value="best"  >Best Match</option>
            <option value="price">Price</option>
          </select>
        </form>
        <form>
          <label>View:</label>
          <a class="mx-2" [routerLink]="['/shop-left-cart']"><i class="fas fa-list fs-3"></i></a>
          <a class="mx-2" [routerLink]="['/shop-grid']"><i class="fa-solid fa-grip fs-3"></i></a>

        </form>
      </div>
    </div>
    <div class="shop-filter-container">
      <aside class="sidebar">
        <div class="discount-offer">
          <h3 class="blue-text underline">Discont Offer</h3>
          <div class="grey-text"><input name="discont" (change)="filterProductsByDiscount(1)" type="radio"> 5% Discount Offer</div>
          <div class="grey-text"><input name="discont" (change)="filterProductsByDiscount(2)" type="radio"> 20% Discount Offer</div>
          <div class="grey-text"><input name="discont" (change)="filterProductsByDiscount(3)" type="radio"> 25% Discount Offer</div>
        </div>

        <div class="rating-item">
          <h3 class="blue-text underline">Rating Item</h3>
          <div>
            <input (change)="filterProductsByRate(1)" type="radio" name="rate">
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
          </div>
          <div>
            <input (change)="filterProductsByRate(2)" type="radio" name="rate">
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star grey-text"></i>
          </div>
          <div>
            <input (change)="filterProductsByRate(3)" type="radio" name="rate">
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
          </div>
          <div>
            <input (change)="filterProductsByRate(4)" type="radio" name="rate">
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
          </div>
          <div>
            <input (change)="filterProductsByRate(5)" type="radio" name="rate">
            <i class="fas fa-star yellow"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
            <i class="fas fa-star grey-text"></i>
          </div>
        </div>

        <div [formGroup]="categorieForm" class="form-group categories">
          <h3 class="blue-text underline">Categories</h3>
          <div *ngFor="let categorie of categories">
            <input formControlName="categoriePage"
            (change)="checkValue(categorie)"
            type="radio"
            value="{{ categorie}}">
            {{categorie}}
          </div>
        </div>

        <div [formGroup]="categorieForm"  class="price-filter form-check">
          <h3 class="blue-text underline">Price Filter</h3>
          <div><input class="form-check-input" name="prix" type="radio" (change)="filterProductsByPrice(1)"> $0.00 - $150.00</div>
          <div><input class="form-check-input" name="prix" type="radio" (change)="filterProductsByPrice(2)"> $150.00 - $350.00</div>
          <div><input class="form-check-input" name="prix" type="radio" (change)="filterProductsByPrice(3)"> $350.00 - $504.00</div>
          <div><input class="form-check-input" name="prix" type="radio" (change)="filterProductsByPrice(4)"> $450.00 +</div>
        </div>
      </aside>

      <div class="shop-list-container">
        <div class="col shadow p-3 mb-5 bg-body rounded" style="cursor: pointer;" *ngFor="let product of products" (click)="goToProductDetailsPage(product.id)">
          <img [src]="product.thumbnail" alt="" class="list-thumbnail my-4" style="width:284px;height:197px">
          <div class="details">
            <h3 class="blue-text">{{product.title}}</h3>
            <div class="price-and-rating">
              <p class="blue-text">${{product.price}}</p>
              <p class="line-through pink-text">${{discountPrice(product.price,product.discountPercentage)}}</p>

              <div class="rating" *ngFor="let rat of roundNumberArray(product.rating)">
                <i *ngIf="rat=='1'" class="fas fa-star yellow"></i>
                <i *ngIf="rat=='0'" class="fas fa-star grey-text"></i>
              </div>
            </div>
            <div class="body">
              <p class="grey-text">{{product.description}}</p>
            </div>
            <div class="options">
              <a href=""><i class="fa-solid fa-cart-shopping"></i></a>
              <a href=""><i class="fa-solid fa-heart"></i></a>
              <a href=""><i class="fa-solid fa-microscope"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
