<app-header-section sectionTitle="shop cart page" sectionSlogan="slogan"></app-header-section>

<div class="container">
  <div class="row">
    <div class="col-8 ">
      <p-table [value]="shopCartProducts.products" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product let-rowIndex="rowIndex">
          <tr>
            <td>
              <form (ngSubmit)="shopCartAction(product.id)">
                <button class="btn btn-danger mx-3"><i class="fa-regular fa-circle-xmark fs-3"></i></button>
              </form>
              <img [src]="pictures[rowIndex]" [alt]="product.title" style="width: 50px; height:50px" />
              {{product.title}}
            </td>
            <td>{{product.price | currency:'USD'}}</td>
            <td>{{product.quantity}}</td>
            <td>{{product.total| currency:'USD'}}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="summary">
          <div class="flex align-items-center justify-content-between">
            In total there are {{shopCartProducts.products ? shopCartProducts.products.length : 0 }} products.
          </div>
        </ng-template>
      </p-table>
    </div>
    <div class="col-4">
      <div class="row">
        <div class="col-12 ">
          <h3>Cart Total</h3>
          <div class="card text-dark bg-light mb-3 rounded-0 border-0">
            <div class="card-body">
              <form role="form">
                <div class="form-group float-label-control py-3">
                  <input type="number" class="form-control" placeholder="SubTotals">
                </div>
                <div class="form-group float-label-control py-3">
                  <input type="number" class="form-control" placeholder="Totals">
                </div>
                <div class="form-group float-label-control py-3">

                  <input [routerLink]="['/shipping-payement']" type="submit"
                    class="btnCartTotal form-control btn btn-success py-2" value="Proceed to check out">
                </div>
              </form>
            </div>
          </div>
          <div class="col-12 ">
            <h3>Calculating shipping</h3>
            <div class="card text-dark bg-light mb-3 rounded-0 border-0">
              <div class="card-body">
                <form role="form">
                  <div class="form-group float-label-control py-3">
                    <input type="text" class="form-control" placeholder="Country">
                  </div>
                  <div class="form-group float-label-control py-3">
                    <input type="text" class="form-control" placeholder="Address">
                  </div>
                  <div class="form-group float-label-control py-3">
                    <input type="text" class="form-control" placeholder="Code Postal">
                  </div>
                  <div class="form-group float-label-control py-3">
                    <input type="submit" class="btnCalculateShpping form-control btn btn-success py-2"
                      value="Calculate shipping">
                  </div>
                </form>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
